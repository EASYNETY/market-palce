{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\123\\\\Documents\\\\Easynet\\\\Marketplace\\\\m1\\\\views\\\\src\\\\components\\\\dashboard\\\\EditProducts.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Container, Table, Button, Col, Row } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchUserProducts } from \"../../redux/actions/product-actions/fetchUserProductsAction\";\nimport { deleteProduct } from \"../../redux/actions/product-actions/deleteProductAction\";\nimport UpdateProductForm from \"./EditProductForm\";\nimport { toast } from \"react-toastify\";\nimport DashboardSidebar from \"./DashboardSidebar\";\nimport DashboardSpinner from \"./DashboardSpinner\";\nimport MainPagination from \"./../MainPagination\";\n\nfunction EditProducts(props) {\n  const {\n    loading,\n    products,\n    pagesCount\n  } = useSelector(state => state.userProductsss);\n  let [perPageP, setPerPageP] = useState(5);\n  const dispatch = useDispatch(); // get the page number from the url\n\n  const query = new URLSearchParams(props.location.search);\n  const page = parseInt(query.get(\"page\") || \"1\", 10); // will let the user decide how many products to show per page\n\n  let perPage = perPageP || 5;\n  useEffect(() => {\n    dispatch(fetchUserProducts(page, perPage));\n  }, [dispatch, page, perPage]); // this function will delete the item and trigger a message after it's done\n\n  const deleteIt = id => {\n    dispatch(deleteProduct(id)).then(res => {\n      toast.success(res, {\n        position: toast.POSITION.BOTTOM_LEFT\n      });\n    }).catch(error => {\n      toast.error(error, {\n        position: toast.POSITION.BOTTOM_LEFT,\n        autoClose: false\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DashboardSidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"dashboard-headline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, \"Edit Products\")), /*#__PURE__*/React.createElement(Col, {\n    className: \"per-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, \"Per page\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"custom-select\",\n    onChange: e => setPerPageP(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"10\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"15\")))), loading && /*#__PURE__*/React.createElement(DashboardSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 23\n    }\n  }), !loading && /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    variant: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, \"category\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 19\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }, \"Edit\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, products.map(product => /*#__PURE__*/React.createElement(\"tr\", {\n    key: product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, product.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, \"$\", product.price), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(UpdateProductForm, {\n    id: product._id,\n    name: product.name,\n    description: product.description,\n    category: product.category,\n    price: product.price,\n    numberInStock: product.numberInStock,\n    productImage: product.productImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"danger\",\n    className: \"ml-3 \",\n    onClick: () => deleteIt(product._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-trash\",\n    \"aria-hidden\": \"true\",\n    title: \"Delete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }))))))), !loading && /*#__PURE__*/React.createElement(MainPagination, {\n    path: \"/editProducts\",\n    pagesCount: pagesCount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 24\n    }\n  }))));\n}\n\nexport default EditProducts;","map":{"version":3,"names":["React","useEffect","useState","Container","Table","Button","Col","Row","useSelector","useDispatch","fetchUserProducts","deleteProduct","UpdateProductForm","toast","DashboardSidebar","DashboardSpinner","MainPagination","EditProducts","props","loading","products","pagesCount","state","userProductsss","perPageP","setPerPageP","dispatch","query","URLSearchParams","location","search","page","parseInt","get","perPage","deleteIt","id","then","res","success","position","POSITION","BOTTOM_LEFT","catch","error","autoClose","e","target","value","map","product","_id","name","price","description","category","numberInStock","productImage"],"sources":["C:/Users/123/Documents/Easynet/Marketplace/m1/views/src/components/dashboard/EditProducts.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Container, Table, Button, Col, Row } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchUserProducts } from \"../../redux/actions/product-actions/fetchUserProductsAction\";\nimport { deleteProduct } from \"../../redux/actions/product-actions/deleteProductAction\";\nimport UpdateProductForm from \"./EditProductForm\";\nimport { toast } from \"react-toastify\";\nimport DashboardSidebar from \"./DashboardSidebar\";\nimport DashboardSpinner from \"./DashboardSpinner\";\nimport MainPagination from \"./../MainPagination\";\n\nfunction EditProducts(props) {\n  const { loading, products, pagesCount } = useSelector(state => state.userProductsss);\n\n  let [perPageP, setPerPageP] = useState(5);\n\n  const dispatch = useDispatch();\n\n  // get the page number from the url\n  const query = new URLSearchParams(props.location.search);\n  const page = parseInt(query.get(\"page\") || \"1\", 10);\n\n  // will let the user decide how many products to show per page\n  let perPage = perPageP || 5;\n\n  useEffect(() => {\n    dispatch(fetchUserProducts(page, perPage));\n  }, [dispatch, page, perPage]);\n\n  // this function will delete the item and trigger a message after it's done\n  const deleteIt = id => {\n    dispatch(deleteProduct(id))\n      .then(res => {\n        toast.success(res, { position: toast.POSITION.BOTTOM_LEFT });\n      })\n      .catch(error => {\n        toast.error(error, {\n          position: toast.POSITION.BOTTOM_LEFT,\n          autoClose: false\n        });\n      });\n  };\n\n  return (\n    <Container fluid>\n      <Row>\n        <Col md='3'>\n          <DashboardSidebar />\n        </Col>\n        <Col>\n          <Row>\n            <Col>\n              <h1 className='dashboard-headline'>Edit Products</h1>\n            </Col>\n            <Col className='per-page'>\n              <span>Per page</span>\n              <select\n                className='custom-select'\n                onChange={e => setPerPageP(e.target.value)}>\n                <option value='5'>5</option>\n                <option value='10'>10</option>\n                <option value='15'>15</option>\n              </select>\n            </Col>\n          </Row>\n\n          {loading && <DashboardSpinner />}\n          {!loading && (\n            <Table striped bordered hover variant='dark'>\n              <thead>\n                <tr>\n                  <th>category</th>\n                  <th>Price</th>\n                  <th>Edit</th>\n                </tr>\n              </thead>\n              <tbody>\n                {products.map(product => (\n                  <tr key={product._id}>\n                    <td>{product.name}</td>\n                    <td>${product.price}</td>\n                    <td>\n                      <UpdateProductForm\n                        id={product._id}\n                        name={product.name}\n                        description={product.description}\n                        category={product.category}\n                        price={product.price}\n                        numberInStock={product.numberInStock}\n                        productImage={product.productImage}\n                      />\n                      <Button\n                        variant='danger'\n                        className='ml-3 '\n                        onClick={() => deleteIt(product._id)}>\n                        <i className='fa fa-trash' aria-hidden='true' title='Delete'></i>\n                      </Button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </Table>\n          )}\n          {!loading && <MainPagination path='/editProducts' pagesCount={pagesCount} />}\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default EditProducts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}