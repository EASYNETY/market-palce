{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\123\\\\Documents\\\\Easynet\\\\Marketplace\\\\m1\\\\views\\\\src\\\\components\\\\CategoryProducts.js\";\nimport React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Container, Row, Col, Card, Alert, Breadcrumb } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchCategoryProducts } from \"../redux/actions/category-actions/categoryProductsActions\";\nimport { addToCart } from \"../redux/actions/cart-actions/addToCart\";\nimport { addToWishlist } from \"./../redux/actions/wishlist-actions/addToWishlist\";\nimport { toast, Slide } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport Page404 from \"./404\";\n\nfunction CategoryProducts(props) {\n  const {\n    categoryName,\n    categoryProducts,\n    loading,\n    error\n  } = useSelector(state => state.categoryProductsss);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchCategoryProducts(props.match.params.id));\n  }, [dispatch, props.match.params.id]); // handle add to cart and wishlist\n\n  const addTo = addFunction => {\n    dispatch(addFunction).then(res => {\n      toast.success(res, {\n        position: toast.POSITION.BOTTOM_LEFT,\n        transition: Slide\n      });\n    }).catch(err => {\n      toast.error(err, {\n        position: toast.POSITION.BOTTOM_LEFT,\n        autoClose: false\n      });\n    });\n  };\n\n  let emptyMessage;\n\n  if (!loading && categoryProducts.length === 0) {\n    emptyMessage = /*#__PURE__*/React.createElement(Alert, {\n      variant: \"warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 20\n      }\n    }, \"No items in this category\");\n  }\n\n  if (error === \"Request failed with status code 404\") {\n    // if the user request an id that doesn't exist, render 404 page\n    // else the id does exist, render everything normal\n    return /*#__PURE__*/React.createElement(Page404, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 12\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(Container, {\n      className: \"category-products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Breadcrumb, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n      href: \"/categories\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, \"Categories\"), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n      active: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, categoryName)), loading && /*#__PURE__*/React.createElement(Loader, {\n      type: \"Circles\",\n      color: \"#123\",\n      height: 100,\n      width: 100,\n      className: \"spinner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }), emptyMessage, error && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 19\n      }\n    }, error), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, categoryProducts.map(product => {\n      return /*#__PURE__*/React.createElement(Col, {\n        lg: 3,\n        key: product._id,\n        className: \"product-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card.Img, {\n        className: \"product-card-image\",\n        variant: \"top\",\n        src: product.productImage[0],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(Card.Body, {\n        className: \"product-details\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        className: \"product-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: `/product/${product._id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 23\n        }\n      }, product.name)), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Card.Text, {\n        className: \"product-price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }\n      }, \"$\" + product.price)), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Card.Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-star\",\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-star\",\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-star\",\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-star-half-o\",\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-star-o\",\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 27\n        }\n      })))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-cart-plus add-to-cart\",\n        \"aria-hidden\": \"true\",\n        onClick: e => {\n          e.preventDefault();\n          addTo(addToCart(product._id));\n        },\n        title: \"Add to cart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        onClick: () => {\n          addTo(addToWishlist(product._id));\n        },\n        className: \"fa fa-heart-o add-to-wishlist\",\n        \"aria-hidden\": \"true\",\n        title: \"Add to wish list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }\n      }))))));\n    })));\n  }\n}\n\nexport default CategoryProducts;","map":{"version":3,"names":["React","useEffect","Link","Container","Row","Col","Card","Alert","Breadcrumb","useSelector","useDispatch","fetchCategoryProducts","addToCart","addToWishlist","toast","Slide","Loader","Page404","CategoryProducts","props","categoryName","categoryProducts","loading","error","state","categoryProductsss","dispatch","match","params","id","addTo","addFunction","then","res","success","position","POSITION","BOTTOM_LEFT","transition","catch","err","autoClose","emptyMessage","length","map","product","_id","productImage","name","price","e","preventDefault"],"sources":["C:/Users/123/Documents/Easynet/Marketplace/m1/views/src/components/CategoryProducts.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Container, Row, Col, Card, Alert, Breadcrumb } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchCategoryProducts } from \"../redux/actions/category-actions/categoryProductsActions\";\nimport { addToCart } from \"../redux/actions/cart-actions/addToCart\";\nimport { addToWishlist } from \"./../redux/actions/wishlist-actions/addToWishlist\";\nimport { toast, Slide } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport Page404 from \"./404\";\n\nfunction CategoryProducts(props) {\n  const { categoryName, categoryProducts, loading, error } = useSelector(\n    state => state.categoryProductsss\n  );\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchCategoryProducts(props.match.params.id));\n  }, [dispatch, props.match.params.id]);\n\n  // handle add to cart and wishlist\n  const addTo = addFunction => {\n    dispatch(addFunction)\n      .then(res => {\n        toast.success(res, {\n          position: toast.POSITION.BOTTOM_LEFT,\n          transition: Slide\n        });\n      })\n      .catch(err => {\n        toast.error(err, {\n          position: toast.POSITION.BOTTOM_LEFT,\n          autoClose: false\n        });\n      });\n  };\n\n  let emptyMessage;\n  if (!loading && categoryProducts.length === 0) {\n    emptyMessage = <Alert variant='warning'>No items in this category</Alert>;\n  }\n  if (error === \"Request failed with status code 404\") {\n    // if the user request an id that doesn't exist, render 404 page\n    // else the id does exist, render everything normal\n    return <Page404 />;\n  } else {\n    return (\n      <Container className='category-products'>\n        <Breadcrumb>\n          <Breadcrumb.Item href='/categories'>Categories</Breadcrumb.Item>\n          <Breadcrumb.Item active>{categoryName}</Breadcrumb.Item>\n        </Breadcrumb>\n\n        {loading && (\n          <Loader\n            type='Circles'\n            color='#123'\n            height={100}\n            width={100}\n            className='spinner'\n          />\n        )}\n        {emptyMessage}\n        {error && <div>{error}</div>}\n        <Row>\n          {categoryProducts.map(product => {\n            return (\n              <Col lg={3} key={product._id} className='product-card'>\n                <Card>\n                  <Card.Img\n                    className='product-card-image'\n                    variant='top'\n                    src={product.productImage[0]}\n                  />\n                  <Card.Body className='product-details'>\n                    <Card.Title className='product-name'>\n                      <Link to={`/product/${product._id}`}>{product.name}</Link>\n                    </Card.Title>\n\n                    <Row>\n                      <Col>\n                        <Card.Text className='product-price'>\n                          {\"$\" + product.price}\n                        </Card.Text>\n                      </Col>\n                      <Col>\n                        <Card.Text>\n                          <i className='fa fa-star' aria-hidden='true' />\n                          <i className='fa fa-star' aria-hidden='true' />\n                          <i className='fa fa-star' aria-hidden='true' />\n                          <i className='fa fa-star-half-o' aria-hidden='true' />\n                          <i className='fa fa-star-o' aria-hidden='true' />\n                        </Card.Text>\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col>\n                        <i\n                          className='fa fa-cart-plus add-to-cart'\n                          aria-hidden='true'\n                          onClick={e => {\n                            e.preventDefault();\n                            addTo(addToCart(product._id));\n                          }}\n                          title='Add to cart'\n                        />\n                      </Col>\n                      <Col>\n                        <i\n                          onClick={() => {\n                            addTo(addToWishlist(product._id));\n                          }}\n                          className='fa fa-heart-o add-to-wishlist'\n                          aria-hidden='true'\n                          title='Add to wish list'\n                        />\n                      </Col>\n                    </Row>\n                  </Card.Body>\n                </Card>\n              </Col>\n            );\n          })}\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default CategoryProducts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}