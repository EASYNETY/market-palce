{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\123\\\\Documents\\\\Easynet\\\\Marketplace\\\\m1\\\\views\\\\src\\\\components\\\\dashboard\\\\AllShippersList.js\";\nimport React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchAllShippers } from \"../../redux/actions/shippers-actions/fetchAllShippers\";\nimport { changeShipperPermission } from \"../../redux/actions/permissions-actions/shipperPermissionActions\";\nimport { Container, Table, Col, Row } from \"react-bootstrap\";\nimport { toast, Slide } from \"react-toastify\";\nimport EditShipperForm from \"./EditShipperForm\";\nimport DashboardSidebar from \"./DashboardSidebar\";\nimport DashboardSpinner from \"./DashboardSpinner\";\n\nfunction AllShippersList() {\n  const {\n    shippers,\n    loading\n  } = useSelector(state => state.shippersss);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchAllShippers());\n  }, [dispatch]);\n  let emptyMessage;\n\n  if (!loading && shippers.length === 0) {\n    emptyMessage = /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }\n    }, \"There are no shippers yet\"));\n  } // handle change shipper permission\n\n\n  const giveShipperPermission = (shipperId, isShipper) => {\n    dispatch(changeShipperPermission(shipperId, isShipper)).then(res => {\n      toast.success(res, {\n        position: toast.POSITION.BOTTOM_LEFT,\n        transition: Slide\n      });\n    }).catch(err => {\n      toast.error(err, {\n        position: toast.POSITION.BOTTOM_LEFT,\n        autoClose: false\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"users-permissions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DashboardSidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"dashboard-headline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"Shippers\"), loading && /*#__PURE__*/React.createElement(DashboardSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 23\n    }\n  }), !loading && /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    variant: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 19\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 19\n    }\n  }, \"Disable\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  }, \"Company\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  }, \"Area\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }\n  }, \"Shipper info\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, emptyMessage, shippers && shippers.map(shipper => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: shipper._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, shipper.user.username), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }, shipper.user.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"custom-select\",\n      onChange: e => {\n        giveShipperPermission(shipper.user._id, e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, \"Change\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }, \"Disable\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, \"Enable\")), shipper.isActiveShipper && /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-truck\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, shipper.company && /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 49\n      }\n    }, shipper.company)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, shipper.area && /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 46\n      }\n    }, shipper.area)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(EditShipperForm, {\n      shipper: shipper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 30\n      }\n    })));\n  }))))));\n}\n\nexport default AllShippersList;","map":{"version":3,"sources":["C:/Users/123/Documents/Easynet/Marketplace/m1/views/src/components/dashboard/AllShippersList.js"],"names":["React","useEffect","useSelector","useDispatch","fetchAllShippers","changeShipperPermission","Container","Table","Col","Row","toast","Slide","EditShipperForm","DashboardSidebar","DashboardSpinner","AllShippersList","shippers","loading","state","shippersss","dispatch","emptyMessage","length","giveShipperPermission","shipperId","isShipper","then","res","success","position","POSITION","BOTTOM_LEFT","transition","catch","err","error","autoClose","map","shipper","_id","user","username","email","e","target","value","isActiveShipper","company","area"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchAllShippers } from \"../../redux/actions/shippers-actions/fetchAllShippers\";\nimport { changeShipperPermission } from \"../../redux/actions/permissions-actions/shipperPermissionActions\";\nimport { Container, Table, Col, Row } from \"react-bootstrap\";\nimport { toast, Slide } from \"react-toastify\";\nimport EditShipperForm from \"./EditShipperForm\";\nimport DashboardSidebar from \"./DashboardSidebar\";\nimport DashboardSpinner from \"./DashboardSpinner\";\n\nfunction AllShippersList() {\n  const { shippers, loading } = useSelector(state => state.shippersss);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchAllShippers());\n  }, [dispatch]);\n\n  let emptyMessage;\n  if (!loading && shippers.length === 0) {\n    emptyMessage = (\n      <tr>\n        <td>There are no shippers yet</td>\n      </tr>\n    );\n  }\n\n  // handle change shipper permission\n  const giveShipperPermission = (shipperId, isShipper) => {\n    dispatch(changeShipperPermission(shipperId, isShipper))\n      .then(res => {\n        toast.success(res, {\n          position: toast.POSITION.BOTTOM_LEFT,\n          transition: Slide\n        });\n      })\n      .catch(err => {\n        toast.error(err, {\n          position: toast.POSITION.BOTTOM_LEFT,\n          autoClose: false\n        });\n      });\n  };\n\n  return (\n    <Container fluid className='users-permissions'>\n      <Row>\n        <Col md='3'>\n          <DashboardSidebar />\n        </Col>\n        <Col>\n          <h1 className='dashboard-headline'>Shippers</h1>\n          {loading && <DashboardSpinner />}\n          {!loading && (\n            <Table striped bordered hover variant='dark'>\n              <thead>\n                <tr>\n                  <th>Username</th>\n                  <th>Email</th>\n                  <th>Disable</th>\n                  <th>Company</th>\n                  <th>Area</th>\n                  <th>Shipper info</th>\n                </tr>\n              </thead>\n              <tbody>\n                {emptyMessage}\n\n                {shippers &&\n                  shippers.map(shipper => {\n                    return (\n                      <tr key={shipper._id}>\n                        <td>{shipper.user.username}</td>\n\n                        <td>{shipper.user.email}</td>\n\n                        <td>\n                          <select\n                            className='custom-select'\n                            onChange={e => {\n                              giveShipperPermission(shipper.user._id, e.target.value);\n                            }}>\n                            <option value=''>Change</option>\n                            <option value='false'>Disable</option>\n                            <option value='true'>Enable</option>\n                          </select>\n                          {shipper.isActiveShipper && (\n                            <i className='fa fa-truck' aria-hidden='true'></i>\n                          )}\n                        </td>\n\n                        <td>{shipper.company && <span>{shipper.company}</span>}</td>\n\n                        <td>{shipper.area && <span>{shipper.area}</span>}</td>\n\n                        <td>{<EditShipperForm shipper={shipper} />}</td>\n                      </tr>\n                    );\n                  })}\n              </tbody>\n            </Table>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default AllShippersList;\n"]},"metadata":{},"sourceType":"module"}