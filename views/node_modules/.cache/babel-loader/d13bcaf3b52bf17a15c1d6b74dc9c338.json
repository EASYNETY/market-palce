{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\123\\\\Documents\\\\Easynet\\\\Marketplace\\\\m1\\\\views\\\\src\\\\components\\\\dashboard\\\\EditCategoryForm.js\";\nimport React, { useState } from \"react\";\nimport { Button, Modal, Toast } from \"react-bootstrap\";\nimport { Form, ErrorMessage, Field, Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { updateCategory } from \"../../redux/actions/category-actions/updateCategoryAction\";\nimport { useDispatch } from \"react-redux\";\nimport { toast, Slide } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\"; //validate our form inputs and handle the errors using YUP\n\nconst validationSchema = () => Yup.object({\n  name: Yup.string().min(1, \"Please enter a name more than 1 character\").required(\"This field is required\"),\n  description: Yup.string().min(10, \"Must be more than 10 characters\").required(\"This field is requried\")\n});\n\nfunction EditCategoryForm(props) {\n  const [show, setShow] = useState(false); // dispatch our redux action\n\n  const dispatch = useDispatch(); //handle modal show and close\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n  /**\n   * This method to handle our whole update process\n   * it takes the targeted category id and the category object\n   */\n\n\n  const handleUpdateCategory = (id, category) => {\n    //this promise was returned to handle sucess and error messages\n    dispatch(updateCategory(id, category)).then(res => {\n      toast.success(res, {\n        position: toast.POSITION.BOTTOM_LEFT,\n        transition: Slide\n      });\n    }).catch(err => {\n      toast.error(err, {\n        position: toast.POSITION.BOTTOM_LEFT,\n        autoClose: false\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-cog\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \" Edit Category \")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      name: props.categoryName,\n      description: props.categoryDescription\n    },\n    validationSchema: validationSchema,\n    onSubmit: (values, _ref) => {\n      let {\n        setSubmitting\n      } = _ref;\n      const newCategory = {\n        name: values.name,\n        description: values.description\n      };\n      handleUpdateCategory(props.categoryId, newCategory);\n      setSubmitting(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    action: `/api/product/${props.categoryId}/update`,\n    method: \"put\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, \"name\"), /*#__PURE__*/React.createElement(Field, {\n    type: \"text\",\n    name: \"name\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    component: Toast,\n    name: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"description\"), /*#__PURE__*/React.createElement(Field, {\n    as: \"textarea\",\n    name: \"description\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    component: Toast,\n    name: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, \"Submit\", \" \"), \" \", /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, \"Close\", \" \"), \" \")))));\n}\n\nexport default EditCategoryForm;","map":{"version":3,"sources":["C:/Users/123/Documents/Easynet/Marketplace/m1/views/src/components/dashboard/EditCategoryForm.js"],"names":["React","useState","Button","Modal","Toast","Form","ErrorMessage","Field","Formik","Yup","updateCategory","useDispatch","toast","Slide","validationSchema","object","name","string","min","required","description","EditCategoryForm","props","show","setShow","dispatch","handleClose","handleShow","handleUpdateCategory","id","category","then","res","success","position","POSITION","BOTTOM_LEFT","transition","catch","err","error","autoClose","categoryName","categoryDescription","values","setSubmitting","newCategory","categoryId"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Modal, Toast } from \"react-bootstrap\";\nimport { Form, ErrorMessage, Field, Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { updateCategory } from \"../../redux/actions/category-actions/updateCategoryAction\";\nimport { useDispatch } from \"react-redux\";\nimport { toast, Slide } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n//validate our form inputs and handle the errors using YUP\nconst validationSchema = () =>\n  Yup.object({\n    name: Yup.string()\n      .min(1, \"Please enter a name more than 1 character\")\n      .required(\"This field is required\"),\n    description: Yup.string()\n      .min(10, \"Must be more than 10 characters\")\n      .required(\"This field is requried\")\n  });\n\nfunction EditCategoryForm(props) {\n  const [show, setShow] = useState(false);\n\n  // dispatch our redux action\n  const dispatch = useDispatch();\n\n  //handle modal show and close\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  /**\n   * This method to handle our whole update process\n   * it takes the targeted category id and the category object\n   */\n  const handleUpdateCategory = (id, category) => {\n    //this promise was returned to handle sucess and error messages\n    dispatch(updateCategory(id, category))\n      .then(res => {\n        toast.success(res, {\n          position: toast.POSITION.BOTTOM_LEFT,\n          transition: Slide\n        });\n      })\n      .catch(err => {\n        toast.error(err, {\n          position: toast.POSITION.BOTTOM_LEFT,\n          autoClose: false\n        });\n      });\n  };\n\n  return (\n    <>\n      <Button variant='secondary' onClick={handleShow}>\n        <i className='fa fa-cog' aria-hidden='true'></i>\n      </Button>\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title> Edit Category </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Formik\n            initialValues={{\n              name: props.categoryName,\n              description: props.categoryDescription\n            }}\n            validationSchema={validationSchema}\n            onSubmit={(values, { setSubmitting }) => {\n              const newCategory = {\n                name: values.name,\n                description: values.description\n              };\n\n              handleUpdateCategory(props.categoryId, newCategory);\n\n              setSubmitting(false);\n            }}>\n            <Form action={`/api/product/${props.categoryId}/update`} method='put'>\n              <div className='form-group'>\n                <label htmlFor='name'>name</label>\n                <Field type='text' name='name' className='form-control' />\n                <ErrorMessage component={Toast} name='name' />\n              </div>\n              <div className='form-group'>\n                <label htmlFor='description'>description</label>\n                <Field as='textarea' name='description' className='form-control' />\n                <ErrorMessage component={Toast} name='description' />\n              </div>\n              <Button variant='primary' type='submit'>\n                Submit{\" \"}\n              </Button>{\" \"}\n              <Button variant='secondary' onClick={handleClose}>\n                Close{\" \"}\n              </Button>{\" \"}\n            </Form>\n          </Formik>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n}\n\nexport default EditCategoryForm;\n"]},"metadata":{},"sourceType":"module"}